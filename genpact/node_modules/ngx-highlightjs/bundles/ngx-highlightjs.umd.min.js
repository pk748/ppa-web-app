!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-highlightjs",["exports","@angular/core","@angular/common","rxjs","rxjs/operators"],e):e(t["ngx-highlightjs"]={},t.ng.core,t.ng.common,t.rxjs,t.rxjs.operators)}(this,function(t,n,e,o,r){"use strict";var i=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},h=new n.InjectionToken("OPTIONS"),s=function(){function t(t,e){this._document=e,this.options={theme:"github",path:"assets/lib/hljs",auto:!0},this._isReady$=new o.BehaviorSubject(!1),this.options=i({},this.options,t),this._hljsLoader().subscribe()}return Object.defineProperty(t.prototype,"isReady",{get:function(){return this._isReady$.pipe(r.filter(function(t){return t}),r.take(1))},enumerable:!0,configurable:!0}),t.prototype.highlight=function(t,e,i,n){if(this.hljs)return this.hljs.highlight(t,e,i,n)},t.prototype.highlightAuto=function(t,e){if(this.hljs)return this.hljs.highlightAuto(t,e)},t.prototype.fixMarkup=function(t){if(this.hljs)return this.hljs.fixMarkup(t)},t.prototype.highlightBlock=function(t){this.hljs&&this.hljs.highlightBlock(t)},t.prototype.configure=function(t){this.hljs&&this.hljs.configure(t)},t.prototype.initHighlighting=function(){this.hljs&&this.hljs.initHighlighting()},t.prototype.initHighlightingOnLoad=function(){this.hljs&&this.hljs.initHighlightingOnLoad()},t.prototype.registerLanguage=function(t,e){this.hljs&&this.hljs.registerLanguage(t,e)},t.prototype.listLanguages=function(){if(this.hljs)return this.hljs.listLanguages()},t.prototype.getLanguage=function(t){if(this.hljs)return this.hljs.getLanguage(t)},t.prototype._hljsLoader=function(){return this._document.defaultView.hljs?this._initHLJS():(this._themeLoader().subscribe(),this._loadScript())},t.prototype._loadScript=function(){var i=this,t=new Promise(function(t){var e=i._document.createElement("script");e.async=!0,e.type="text/javascript",e.onload=t,e.src=i.options.path+"/highlight.pack.js",i._document.head.appendChild(e)});return o.from(t).pipe(r.switchMap(function(){return i._initHLJS()}))},t.prototype._themeLoader=function(){var i=this,t=new Promise(function(t){var e=i._document.createElement("link");e.rel="stylesheet",e.type="text/css",e.onload=t,e.href=i.options.path+"/styles/"+i.options.theme+".css",i._document.head.appendChild(e)});return o.from(t)},t.prototype._initHLJS=function(){var t=this;return o.of({}).pipe(r.tap(function(){t.hljs=t._document.defaultView.hljs,t.hljs.configure(t.options.config),t._isReady$.next(!0)}))},t.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:n.Optional},{type:n.Inject,args:[h]}]},{type:undefined,decorators:[{type:n.Inject,args:[e.DOCUMENT]}]}]},t.ngInjectableDef=n.defineInjectable({factory:function(){return new t(n.inject(h,8),n.inject(e.DOCUMENT))},token:t,providedIn:"root"}),t}(),l=function(){function t(t,e,i){this.renderer=e,this.hljs=i,this.highlighted=new n.EventEmitter,this.el=t.nativeElement}return Object.defineProperty(t.prototype,"setCode",{set:function(t){var e=this;this.code=t,this.hljs.isReady.subscribe(function(){return e.highlightElement(e.el,t)})},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;!this.code&&this.hljs.options.auto&&this.hljs.isReady.subscribe(function(){t.highlightTextContent(),t.domObs=new MutationObserver(function(){return t.highlightTextContent()}),t.domObs.observe(t.el,{childList:!0,subtree:!0})})},t.prototype.highlightTextContent=function(){this.highlight?"all"===this.highlight?this.highlightChildren(this.el,"pre code"):this.highlightChildren(this.el,this.highlight):"code"===this.el.tagName.toLowerCase()?this.highlightElement(this.el,this.el.innerText.trim()):console.warn("[HighlightDirective]: Use 'highlight' on <code> element only")},t.prototype.highlightElement=function(t,e){var i=this.hljs.highlightAuto(e,this.language);i.value!==t.innerHTML&&(this.renderer.addClass(t,"hljs"),this.renderer.setProperty(t,"innerHTML",i.value),this.highlighted.emit(i))},t.prototype.highlightChildren=function(t,e){var i=this,n=t.querySelectorAll(e);o.from(n).pipe(r.filter(function(t){return 1===t.childNodes.length&&"#text"===t.childNodes[0].nodeName}),r.map(function(t){return i.highlightElement(t,t.innerText.trim())}),r.take(1)).subscribe()},t.prototype.ngOnDestroy=function(){!this.code&&this.hljs.options.auto&&this.domObs.disconnect()},t.decorators=[{type:n.Directive,args:[{selector:"[highlight]"}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:s}]},t.propDecorators={highlight:[{type:n.Input}],language:[{type:n.Input}],setCode:[{type:n.Input,args:["code"]}],highlighted:[{type:n.Output}]},t}(),u=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:h,useValue:t}]}},e.decorators=[{type:n.NgModule,args:[{declarations:[l],exports:[l]}]}],e}();t.HighlightModule=u,t.HighlightJS=s,t.HighlightDirective=l,t.Éµa=h,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-highlightjs.umd.min.js.map